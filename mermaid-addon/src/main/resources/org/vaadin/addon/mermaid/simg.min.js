!function(t){var e=t.Simg,n=t.Simg=function(t){this.svg=t};n.noConflict=function(){return t.Simg=e,this},n.getBase64Image=function(t){var e=document.createElement("canvas");return e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),e.toDataURL("image/png").replace(/^data:image\/(png|jpg);base64,/,"")},n.prototype={toString:function(t){if(!t)throw new Error(".toString: No SVG found.");return[["version",1.1],["xmlns","http://www.w3.org/2000/svg"]].forEach(function(e){t.setAttribute(e[0],e[1])}),t.outerHTML},toCanvas:function(t){this.toSvgImage(function(e){var n=document.createElement("canvas"),a=n.getContext("2d");n.width=e.width,n.height=e.height,a.drawImage(e,0,0),t(n)})},toSvgImage:function(t){var e=this.toString(this.svg),n=document.createElement("img");t&&(n.onload=function(){t(n)}),n.setAttribute("src","data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e))))},toImg:function(t){this.toCanvas(function(e){var n=e.toDataURL("image/png"),a=document.createElement("img");a.onload=function(){t(a)},a.setAttribute("src",n)})},replace:function(t){var e=this;this.toImg(function(n){e.svg.parentNode.replaceChild(n,e.svg),t&&t()})},toBinaryBlob:function(t){this.toCanvas(function(e){for(var n=e.toDataURL().replace(/^data:image\/(png|jpg);base64,/,""),a=atob(escape(n)),o=new ArrayBuffer(a.length),i=new Uint8Array(o),r=0;r<a.length;r++)i[r]=a.charCodeAt(r);var c=new DataView(o),g=new Blob([c],{type:"image/png"});t(g)})},download:function(t){t||(t="chart"),this.toImg(function(e){var n=document.createElement("a");n.download=t+".png",n.href=e.getAttribute("src"),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)})}}}(this);